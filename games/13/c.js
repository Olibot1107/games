var _=Math,$=_.PI,e=2*$,t=($,e,t)=>$<e?_.min($+t,e):$>e?_.max($-t,e):$,r=_=>_*$/180,o=(_,$,e)=>(1-e)*_+e*$,f=_=>_<<16|_<<8|_,i=_=>_&&--_,n=($,e=48639327,t="Rvaoitc_feur$nwgCPTdkpsIAlSxbhmy",l)=>{for(l of $)e=_.imul(e,23131)+l.charCodeAt(0)>>>0;return t[(e%=427)%32]+(e<32?[]:t[e>>5])},a=_=>{for(let $ in _)$[4]&&$[0]>"_"&&Reflect.defineProperty(_,n($),{get(){return this[$]},set(_){this[$]=_}});return _},u=a(new AudioContext),s=_=>{let $=new SpeechSynthesisUtterance(_);$.volume=.5,speechSynthesis.speak($)},v=a(c.getContext("webgl",{antialias:0})),d=a(v.lv("ANGLE_instanced_arrays"));v.nu(37441,1),(onresize=(_,$=innerWidth,e=innerHeight,t=devicePixelRatio)=>{c.width=$*t,c.height=e*t,c.style.width=$+"px",c.style.height=e+"px"})();var m,g,w=new Float32Array(1<<20),y=new Uint32Array(w.buffer),p=0;{let _=(_,$)=>($=v.pu($),v.au($,_),v.pv($),$),$=(_,$,e)=>{v.dt(_,v.Pr()),v.h(_,$,e)},e=(_,$,e,t,l,r,o)=>{_=v.hi(m,_),v.po(_),v.mv(_,$,r,o,e,l),t&&d.i_(_,t)};m=v.in(),v.Se(m,_("attribute float b;attribute vec2 e,f,o,j;attribute vec4 k,g,l;uniform mat4 p;varying vec2 c;varying vec4 d;varying vec3 h;void main(){c=k.xy+e*k.zw,d=vec4(g.bgr*g.a,(1.-l.a)*g.a),h=l.bgr;vec2 a=(e-f)*j;float i=cos(b),m=sin(b);a=vec2(a.x*i-a.y*m,a.x*m+a.y*i),a+=f+o,gl_Position=p*vec4(a,0,1);}",35633)),v.Se(m,_("precision mediump float;uniform sampler2D n;varying vec2 c;varying vec4 d;varying vec3 h;void main(){vec4 a=d*texture2D(n,c);gl_FragColor=a+vec4(h*a.a,0.);}",35632)),v._n(m),$(34963,new Uint8Array([0,1,2,2,1,3]),35044),$(34962,new Float32Array([0,0,0,1,1,0,1,1]),35044),e("e",2,0,0,0,5126,0),$(34962,w,35048),e("f",2,56,1,0,5126,0),e("j",2,56,1,8,5126,0),e("b",1,56,1,16,5126,0),e("o",2,56,1,20,5126,0),e("k",4,56,1,28,5126,0),e("g",4,56,1,44,5121,1),e("l",4,56,1,48,5121,1)}var h=_=>({_:v.sa(),$:_,t:_,l:0,o:0,i:0,u:0,v:1,m:1}),b=_=>{_.g=v.ro(),v.$e(36160,_.g),v.bc(3553,_._),v.pf(36160,36064,3553,_._,0)},R=(_,$,e=9728)=>{v.bc(3553,_._),v.we(3553,10240,e),v.we(3553,10241,e),$?v.ac(3553,0,6408,6408,5121,$):v.ac(3553,0,6408,_.$,_.t,0,6408,5121,null)},A=($,e,t,l,r,o,f,i)=>{let n=$-f*t,a=e-i*l,c=o*_.cos(r),u=o*_.sin(r),s=2/f,d=-2/i;v.li(v.$t(m,"p"),0,[c*s,u*d,0,0,-u*s,c*d,0,0,0,0,-1,0,($*(1-c)+e*u)*s-2*n/f-1,(e*(1-c)-$*u)*d+2*a/i+1,0,1]),v.nc(v.$t(m,"n"),0)},S=()=>{v.mt(3042),v.gf(1,771),v.te(m)},x=(_,$,e,t)=>{v.ui(_,$,e,t),v.clear(16384)},P=(_,$,e,t,l,r,o=v.n,f=v.ge)=>{S(),A(_,$,e,t,l,r,o,f),v.$e(36160,null),v.yv(0,0,o,f)},k=(_=p)=>{_&&(v.bc(3553,g),v.$a(34962,0,w.subarray(0,14*_)),d.$f(4,6,5121,0,_),p=0)},C=(_,$,e,t=0,l=1,r=1,o=1,f=16777215,i=0,n=0)=>{(g!=_._||65535==p)&&(k(),g=_._);let a=14*p++;w[a++]=_.l,w[a++]=_.o,w[a++]=l*_.$,w[a++]=r*_.t,w[a++]=t,w[a++]=$,w[a++]=e,w[a++]=_.i,w[a++]=_.u,w[a++]=_.v,w[a++]=_.m,y[a++]=(255*o<<24|f)>>>0,y[a++]=(255*i<<24|n)>>>0},T=new Float32Array(1),D=new Uint32Array(T.buffer),F=_=>(D[0]=127<<23|8388607&_,T[0]-1),I=_=>(_^=_>>>11,_^=_<<7&2636928640,_^=_<<15&4022730752,(_^=_>>>18)>>>1),M=[,,].fill(new Date>>>0),U=($=0)=>I(M[$]=_.imul(M[$],1103515245)+12345>>>0),j=_=>U()%_,O=(_=1,$)=>_*F(U($)),E=(_=1)=>O(2*_,1)-_,N=_=>O(_,1),H=$=>2*$*(.5-_.random()),J=$=>_.random()*$|0,z=_=>_[J(_.length)],G=(_,$)=>{try{_.l.send($)}catch{}},q=_=>_+"px Georgia,e",L=[],W=[],B=(_,$)=>(($=document.createElement("canvas")).width=$.height=_,($=a($.getContext("2d"))).d=$.ei="#fff",$._i="center",$.sv="middle",$),K=(_,$)=>{_.Ar(),_.arc(0,0,$-.3,0,e),_.A()},Q=h(1024);b(Q);var V,X=(_,$)=>{$[0]=+_._|!!_.o<<1,$[1]=_.t,$[2]=_.g;let e=_.l;e.sort((_,$)=>_.g-$.g);let t=e.length?e[0].g:0,l=e.length?e[e.length-1].g:-1;$[3]=l-t+1,$[4]=t;let r=5,o=0;for(;t<=l;){let e=_.l[o];t++==e.g?(++o,$[r++]=e.p??-1):$[r++]=-1}if(_.o){$[r++]=_.o._,$[r++]=_.o.g,$[r++]=_.o.t,$[r++]=_.o.l;let e=[].concat(..._.o.o);$[r++]=e.length;for(let _ of e)$[r++]=_._|(255&_.h)<<8|(255&_.g)<<16,$[r++]=_.R,$[r++]=_.p,$[r++]=(255&_.A)<<8|255&_.S,$[r++]=_.t,$[r++]=65536*_.l,$[r++]=65536*_.o,$[r++]=65536*_.i,$[r++]=65536*_.u,$[r++]=65536*_.v,$[r++]=65536*_.$,$[r++]=65536*_.P,$[r++]=65536*_.m;$[r++]=Object.keys(_.o.i).length;for(let e in _.o.i)$[r++]=+e,$[r++]=_.o.i[e]}return $.buffer.slice(0,4*r)},Y=new Map,Z=new Set,__=new Set,$_=new Set;{let _=_=>(Y.has(_)||Y.set(_,e(_)),Y.get(_)),$=()=>{"s"==u.state[0]&&u.lc().catch()},e=_=>({t:_,_:0,i:0,l:0,o:0,u:0,v:0,$:0}),t=(_,$,e)=>{_.l=$,_.o=e,_._=$,_.i=e,_.u=1,_.$=1},l=(_,$,e)=>{_.l=$,_.o=e},r=_=>{_.v=_.$,_.$=0},o=(_,$,e=c.getBoundingClientRect())=>{$(V,(_.clientX-e.x)*devicePixelRatio|0,(_.clientY-e.y)*devicePixelRatio|0)},f=($,e,t=c.getBoundingClientRect(),l)=>{for(l of($.preventDefault(),$.changedTouches))e(_(l.identifier),(l.clientX-t.x)*devicePixelRatio|0,(l.clientY-t.y)*devicePixelRatio|0)};V=e(0),oncontextmenu=_=>_.preventDefault(),onkeydown=(_,e=_.which)=>{$(),!Z.has(e)&&!_.repeat&&(__.add(e),Z.add(e))},onkeyup=(_,$=_.which)=>{_.preventDefault(),Z.delete($)&&$_.add($)},c.onmousedown=_=>{o(_,t)},c.onmouseup=()=>{$(),r(V)},c.onmouseleave=()=>{r(V)},c.onmouseenter=_=>{_.buttons&&o(_,t)},c.onmousemove=_=>{o(_,l)},c.ontouchstart=_=>{f(_,t)},c.ontouchmove=_=>{f(_,l)},c.ontouchend=(e,t)=>{for(t of($(),e.preventDefault(),e.changedTouches))r(_(t.identifier))}}var e_=_=>{_.u=0,_.v=0},t_=()=>V.v||__.size||[...Y.values()].some(_=>_.v),l_=[16751069,16764057,13434777,2236962,8934911,13421772],r_=[0,0,1],o_=0,f_=0,i_=0,n_=0,a_=0,c_=0,u_=0,s_=0,v_=0,d_=0,m_=[{t:0,m:.5,_:.5,l:1,u:16,v:48},{t:.5,m:.5,_:1,l:1,u:16,v:40},{t:.5,m:0,_:1,l:.5,o:1}],g_=0,w_=_=>!m_.some($=>$.i==_),y_=(_,$,e)=>$>_.t&&$<_._&&e>_.m&&e<_.l,p_=_=>((..._)=>{let $=u.Pr(_.length,_[0].length,44100);return _.map((_,e)=>$.getChannelData(e).set(_)),$})(h_(..._)),h_=($=1,t=.05,l=220,r=0,o=0,f=.1,i=0,n=1,a=0,c=0,u=0,s=0,v=0,d=0,m=0,g=0,w=0,y=1,p=0,h=0)=>{let b,R,A=a*=500*e/44100/44100,S=l*=(1+2*t*_.random()-t)*e/44100,x=[],P=0,k=0,C=0,T=1,D=0,F=0,I=0;for(c*=500*e/44100**3,m*=e/44100,u*=e/44100,s*=44100,v=44100*v|0,R=(r=44100*r+9)+(p*=44100)+(o*=44100)+(f*=44100)+(w*=44100)|0;C<R;x[C++]=I)++F%(100*g|0)||(I=i?i>1?i>2?i>3?_.sin((P%e)**3):_.max(_.min(_.tan(P),1),-1):1-(2*P/e%2+2)%2:1-4*_.abs(_.round(P/e)-P/e):_.sin(P),I=(v?1-h+h*_.sin(e*C/v):1)*(I>0?1:-1)*_.abs(I)**n*$*.3*(C<r?C/r:C<r+p?1-(C-r)/p*(1-y):C<r+p+o?y:C<R-w?(R-C-w)/f*y:0),I=w?I/2+(w>C?0:(C<R-w?1:(R-C)/w)*x[C-w|0]/2):I),b=(l+=a+=c)*_.cos(m*k++),P+=b-b*d*(1-1e9*(_.sin(C)+1)%2),T&&++T>s&&(l+=u,S+=u,T=0),v&&!(++D%v)&&(l=S,a=A,T=T||1);return x},b_=[p_([,,103,,.02,.06,,1.24,-18,4.4,,,,.7,,.1,,.95,.03]),p_([1.27,,390,.01,.04,.02,4,.71,4.8,,,,,,,,.01,.6,.06]),p_([1.12,,73,,.02,.11,2,1.18,,-.1,,,,,,.3,,.55,.05,.23]),p_([1.99,,770,.03,.19,.35,,.26,,,,,,2,-50,.1,.27,.48,.06]),p_([.5,0,1500,.02,,.02,4,.68,5,,,,.01,.7,136,,,,,.11]),p_([,0,288,.05,.01,,,2,-10,,,,,,,,,.5,.1]),p_([,0,700,.01,,0,,,,,,,,,,,,.1,.01]),p_([2.21,,107,.02,.04,.07,,2.22,2,.9,,,,.4,,.5,.15,.42,.04]),p_([.5,0,43,.01,,1,2,,,,,,,,,.02,.01]),p_([.5,0,86,,,,,.7,,,,.5,,6.7,1,.05]),p_([.2,0,270,,,.12,3,1.65,-2,,,,,4.5,,.02]),p_([.24,0,2200,,,.04,3,2,,,800,.02,,4.8,,.01,.1])],R_=[{_:1,t:.5,l:2,o:1,i:0,u:.5,v:10,$:6,m:0,g:300,p:0,R:0,h:16,A:.004,P:.1,S:1,k:0,C:1,T:12,D:0,F:2,I:3,M:1},{_:1,t:.5,l:2,o:1,i:0,u:.5,v:10,$:6,m:0,g:300,p:0,R:0,h:16,A:.004,P:.1,S:1,k:0,C:1,T:12,D:0,F:2,I:3,M:1},{_:1,t:.5,l:2,o:1,i:0,u:.5,v:10,$:6,m:0,g:300,p:0,R:0,h:16,A:.004,P:.1,S:1,k:0,C:1,T:12,D:0,F:2,I:3,M:1},{_:1,t:0,l:2,o:1,i:0,u:0,v:32,$:16,m:0,g:600,p:0,R:0,h:16,A:.004,P:.2,S:1,k:0,C:1,T:0,D:1,F:1,I:0,M:1,U:16768290},{_:1,t:0,l:2,o:1,i:0,u:0,v:32,$:16,m:0,g:600,p:0,R:0,h:16,A:.004,P:.2,S:1,k:0,C:1,T:0,D:1,F:1,I:0,M:1,U:16768290},{_:1,t:0,l:2,o:1,i:0,u:0,v:32,$:16,m:0,g:600,p:0,R:0,h:16,A:.004,P:.2,S:1,k:0,C:1,T:0,D:1,F:1,I:0,M:1,U:16768290},{_:1,t:0,l:2,o:1,i:0,u:0,v:32,$:16,m:0,g:600,p:0,R:0,h:16,A:.004,P:.2,S:1,k:0,C:1,T:0,D:1,F:1,I:0,M:1,U:16768290},{_:1,t:0,l:2,o:1,i:0,u:0,v:32,$:16,m:0,g:600,p:0,R:0,h:16,A:.004,P:.2,S:1,k:0,C:1,T:0,D:1,F:1,I:0,M:1,U:16768290},{_:1,t:0,l:2,o:1,i:0,u:0,v:32,$:16,m:0,g:600,p:0,R:0,h:16,A:.004,P:.2,S:1,k:0,C:1,T:0,D:1,F:1,I:0,M:1,U:16768290},{_:1,t:0,l:2,o:1,i:0,u:0,v:32,$:16,m:0,g:600,p:0,R:0,h:16,A:.004,P:.2,S:1,k:0,C:1,T:0,D:1,F:1,I:0,M:1,U:16768290}],A_=1;R_[A_]._=6,R_[A_].F=2,R_[A_].k=r(-45),++A_,R_[A_]._=2,R_[A_].F=8,R_[A_].k=r(-45),++A_,R_[A_].F=2,R_[A_].u=.1,R_[A_].g/=2,R_[A_].l=16,R_[A_].h=16,R_[A_].A=.02,++A_,R_[A_]._=12,R_[A_].u=.25,R_[A_].v=20,R_[A_].$=20,R_[A_].h=16,R_[A_].A=.002,++A_,R_[A_]._=8,R_[A_].u=.25,R_[A_].v=20,R_[A_].g/=2,R_[A_].h=16,R_[A_].A=.01,R_[A_].P=.3,R_[A_].F=2,++A_,R_[A_].o=5,R_[A_].u=.5,R_[A_].h=32,R_[A_].A=.02,R_[A_].g=300,R_[A_].p=200,R_[A_].T=1,R_[A_].i=.5,R_[A_].M=2,R_[A_].F=2,R_[A_].U=11141120,++A_,R_[A_].h=1,R_[A_].A=.1,R_[A_].P=.4,R_[A_].S=1.5,R_[A_].g=960,R_[A_].T=1,R_[A_].F=5,R_[A_].D=3,R_[A_].U=65280,++A_,R_[A_].u=.5,R_[A_].h=10,R_[A_]._=6,R_[A_].P=.3,R_[A_].g=420,R_[A_].F=1,R_[A_].M=2,R_[A_].D=2,R_[A_].U=65535,++A_,R_[A_]._=.5,R_[A_].R=25,R_[A_].g=1,R_[A_].A=.02,R_[A_].P=.4,R_[A_].S=1.5,R_[A_].F=5,R_[A_].D=4,R_[A_].I=10,R_[A_].U=10027161;var S_,x_,P_=[10,10,6,10,14],k_=[14,10,0,6,14],C_=[512,2,512,2,512],T_=[2,2,1,2],D_=[0,8,0,8,8],F_=_=>{_.l=10+j(1004),_.o=10+j(1004)},I_=(_,$)=>{_.l=$.l,_.o=$.o,_.i=$.i+k_[$._]},M_=(_,$,e)=>{if(q_(_,_.u,_.v,_.$,1/60),_.i>0)_.$-=$;else if(_.i=0,_.$<0)return _.$=-_.$/e|0,1;return 0},U_=$=>$.A=_.max(0,$.A-2),j_=_=>{M_(_,!_._&&4&_.p?3:5,C_[_._]),O_(_),_.i<=0&&J_(_,D_[_._]),U_(_)},O_=_=>E_(_,P_[_._],T_[_._]),E_=(_,$,e)=>{let t=0;return _.o>1024-$?(_.o=1024-$,t=1,H_(_,0,-1,e)):_.o<$&&(_.o=$,t=1,H_(_,0,1,e)),_.l>1024-$?(_.l=1024-$,t=1,H_(_,-1,0,e)):_.l<$&&(_.l=$,t=1,H_(_,1,0,e)),t},N_=($,e,t,l)=>G_($,t*_.cos(e),t*_.sin(e)/2,l),H_=(_,$,e,t)=>{let l=2*(_.u*$+_.v*e);_.u=(_.u-l*$)/t|0,_.v=(_.v-l*e)/t|0},J_=($,e)=>{let l=$.u*$.u+$.v*$.v;if(l>0){l=_.sqrt(l);let r=t(l,0,e)/l;$.u*=r,$.v*=r}},z_=(_,$,e=1)=>G_(_,$.u,$.v,$.$,e),G_=(_,$,e,t,l=1)=>{_.u+=l*$,_.v+=l*e,_.$+=l*t},q_=(_,$,e,t,l=1)=>{_.l+=l*$,_.o+=l*e,_.i+=l*t},L_=(_,$,e)=>_*_+$*$+e*e,W_=(_,$)=>{let e=_._,t=$._,l=P_[e]+P_[t];return L_(_.l-$.l,_.o-$.o,_.i+k_[e]-$.i-k_[t])<l*l},B_=[1,1,1,1,0],K_=($,e,t)=>{let l=P_[$._],r=k_[$._],o=B_[$._];for(let f=t;f<e.length;++f){let t=e[f],i=t._,n=$.l-t.l,a=2*($.o-t.o),c=$.i+r-(t.i+k_[i]),u=L_(n,a,c),s=l+P_[i];if(u<s*s&&u>0){let e=(s/_.sqrt(u)-1)/2;q_($,n,a,c,o*e),q_(t,n,a,c,-B_[i]*e)}}},Q_=(_,$,e,t)=>{let l=P_[$._],r=_.i,o=$.i+k_[$._],f=$.l-_.l,i=$.o-_.o,n=o-r,a=f*e+i*t;return a<0?0:(f=_.l+e*a,i=_.o+t*a,n=r,L_($.l-f,$.o-i,o-n)<=l*l)},V_=_=>(65536*_|0)/65536,X_=_=>{for(let $ of _)$.l=V_($.l),$.o=V_($.o),$.i=V_($.i),$.u=V_($.u),$.v=V_($.v),$.$=V_($.$),$.P=V_($.P),$.m=V_($.m)},Y_=$=>{if($.t+=$._,++$.p,M_($,5,2)){if($.C){let e=_.hypot($.u,$.v,$.$);if(e<4||$.P){let _=1+$.k*e;_$.push($.C,$.l,$.o,$.t,$.S*_,$.A*_,$.g)}if(e<4)return 0}$.u/=2,$.v/=2,$._=-$._/2}return E_($,4,2),$.p<$.R},Z_=[],_$=[],$$=()=>{let _=0;for(;_<_$.length;)C(W[_$[_++]],_$[_++],_$[_++],_$[_++],_$[_++],_$[_++],1,_$[_++])},e$=$=>{let e=1-$.T+$.D*_.hypot($.u,$.v,$.$),t=$.T*_.atan2($.v-$.$,$.u),l=$.m,r=t+$.t;if($.i>1){let _=.5-$.i/256;C(W[6],$.l,$.o,0,_,_/4,.4*(1-$.p/$.R),0)}C(W[$.h],$.l,$.o-$.i,r,l*e,l,1,$.g)},t$=(_,e,t,l)=>{for(;_--;){let _={l:0,o:0,i:0,u:0,v:0,$:0,t:0,_:0,g:16777215,m:1,p:0,R:600,h:43,T:0,D:0,S:1,A:1,C:0,P:0,k:0};I_(_,e),l&&z_(_,l,N(.5)),N_(_,E($),N(t),0),_.g=96+N(48)<<16,_.h=45,_.C=6,_.P=1,_.S=.5,_.A=.125,_.k=(1+N())/100,_.m=(1+N())/2,_.T=1,_.D=.02,Z_.push(_)}},l$=(_,e,t,l)=>{for(;_--;){let _={l:0,o:0,i:0,u:0,v:0,$:0,t:0,_:0,g:16777215,m:1,p:0,R:600,h:43,T:0,D:0,S:1,A:1,C:0,P:0,k:0};I_(_,e),z_(_,t,-N(.2)),N_(_,E($),N(32),0),_.g=l[(r=l.length,U(1)%r)],_.h=4,_.m=1+N(1),_.T=1,_.D=.02,_.R=2+N(16),Z_.push(_)}var r},r$=_=>{l.innerText+=_+"\n"},o$=h(1024);R(o$),b(o$);var f$,i$=_=>{let $=[64,0,32,32,0,0];for(let e of _){let _=$[e._]/128;_&&(!e._&&e.R==me&&(_*=2),C(W[51],(e.l+256)/4,(e.o+256-e.i)/4,0,_,_,1))}},n$=new Map,a$=[],c$=[],u$=0,s$=-1,v$=0,d$=0,m$=0,g$=0,w$=0,y$=0,p$=0,h$=0,b$=0,R$=0,A$=[],S$={_:0,g:0,t:0,l:0,o:[[],[],[],[]],i:{}},x$=0,P$=0,k$=_=>({t:S$._++,_,l:0,o:0,i:0,u:0,v:0,$:0,p:0,R:0,P:0,m:0,g:0,S:j(256),A:31,h:1}),C$=()=>{let _=k$(3);return _.p=256,I$(_),_},T$=_=>(n$.has(_)||n$.set(_,{t:_,g:0,_:0}),n$.get(_)),D$=()=>{n$.clear(),a$.length=0,c$.length=0,S$={_:0,g:0,t:0,l:0,o:[[],[],[],[]],i:{}},L$(),s$=-1,g$=0,w$=0,y$=0,p$=0,h$=0,b$=0,R$=0},F$=()=>{M[0]=S$.l,(()=>{let _=B(1024),$=["#080","#572"];_.d="#060",_.p_(0,0,1024,1024),_.__(1,1/4);for(let t=0;t<1024;++t)_.d=$[j(2)],_.Ar(),_.arc(j(1024),4*j(1024),1+j(16),0,e),_.A(),_.fill(),_.p_(j(1024),4*j(1024),1,4+j(8));R(Q,_.s$)})(),A$.length=0;let _=S$._;for(let _=0;_<64;++_){let _=k$(4);_.p=j(2),_.h=0,F_(_),A$.push(_)}M[0]=S$.t,S$._=_},I$=_=>{S$.o[_._].push(_)},M$=_=>{_>p$&&(p$=_)},U$=()=>j$(me),j$=_=>S$.o[0].find($=>$.R==_),O$=(_,$)=>(($=a$.find($=>$.g==_))||a$.push($={g:_,R:me}),$),E$=$=>$+_.max(8,60*(p$-d$)|0),N$=$=>{if(s$<0)return 0;(()=>{u$=v$+60*(p$-d$)|0,m$=v$;for(let[_]of ve){let $=n$.get(_);$&&(u$>$.g&&(u$=$.g),m$>$._&&(m$=$._))}})();let e=60*($-d$)|0,t=0;for(;v$<=u$&&e--;)W$(),L$(),++t,d$+=1/60;v$>u$?$-d$>8/60&&(d$=o(d$,$-8/60,.01)):v$+8<u$&&(d$-=1/60);let l=v$-1;return c$=c$.filter(_=>_.g>l),a$=a$.filter($=>$.g>_.min(m$,l)),t},H$=new Int32Array(16384),J$=()=>{let _=v$-1;for(let[$,e]of ve)if(Me(e)){let t=T$($),l=E$(_);if(l>t._){let _={_:t.o,t:t.g,g:l,l:a$.filter(_=>_.g>t._&&_.g<=l)};!t.l&&g$&&(_.o=S$,t.g=S$.g,t._=S$.g),G(e,X(_,H$))}}},z$=0,G$=()=>{for(let[_]of n$)ve.has(_)||n$.delete(_);if(me&&s$>=0)for(let[_,$]of ve)if(n$.get(_)?.l&&!Me($))return void(++z$>300&&(Re(),alert("connection lost")));z$=0},q$=(_,$)=>{if(512==(768&_.p)){let e=!(16&$.p);!$.g&&e&&($.g=255&_.p,ue($,0),_.h=_.p=0)}else $.h<10&&(++$.h,ue($,0),_.h=_.p=0)},L$=()=>{for(let _ of S$.o)_.sort((_,$)=>_.t-$.t),X_(_)},W$=()=>{(_=>{(_=a$.concat(c$).filter($=>$.g==_)).sort((_,$)=>_.R-$.R);for(let $ of _)if(void 0!==$.p){let _=j$($.R);if(_)_.p=$.p;else if(32&$.p){let _=k$(0);_.R=$.R,F_(_),me==$.R&&(r_[0]=_.l,r_[1]=_.o),_.h=10,_.p=$.p,_.g=1+j(3),I$(_)}}})(v$),(()=>{let $=256/_.min(v.n,v.ge),e=r_[0],t=r_[1];if(me){let _=U$()??(()=>{let _=S$.o[0].filter(_=>_.R);return _.length?_[(p$/5|0)%_.length]:void 0})();if(_?.R){let l=R_[_.g];e=_.l+(l.P-l.A*P$)*(o_-_.l),t=_.o+(l.P-l.A*P$)*(f_-_.o),$*=l.S}}r_[0]=o(r_[0],e,.1),r_[1]=o(r_[1],t,.1),r_[2]=o(r_[2],$,.05)})();for(let _ of S$.o[0])$e(_);for(let _ of S$.o[0])j_(_);for(let _ of S$.o[1])j_(_);for(let _ of S$.o[3])if(j_(_),!_.A)for(let $ of S$.o[0])W_(_,$)&&q$(_,$);for(let _ of S$.o[2])M_(_,0,0),_.h&&O_(_)&&(--_.h,l$(8,_,_,Q$[_.p])),X$(_,S$.o[0]),X$(_,S$.o[1]),X$(_,A$),4==_.p&&(_.h=-1),_.P&&! --_.P&&(_.h=0);for(let _ of A$)U_(_);if((()=>{for(let _=0;_<Z_.length;)Y_(Z_[_])?++_:Z_.splice(_,1)})(),S$.o=S$.o.map(_=>_.filter(_=>_.h)),K$(S$.o[0]),K$(S$.o[1]),B$(S$.o[0],S$.o[1]),B$(S$.o[0],A$),B$(S$.o[1],A$),y$&&U$()&&(y$=0),x$=i(x$),P$=i(P$),me){if(!(511&v$)){let _=k$(0);F_(_),_.h=10,_.g=j(R_.length),I$(_)}}else ee({l:J(1024),o:J(1024),i:J(128),_:0},128,1);R$<v$&&(R$=v$),S$.t=M[0],S$.g=v$++},B$=(_,$)=>{for(let e of _)K_(e,$,0)},K$=_=>{for(let $=0;$<_.length;++$)K_(_[$],_,$+1)},Q$=[[16777215],[16777028],[4521983],[3355443],[16711680,65280,65535,16776960,16711935]],V$=(t,l)=>{if(z_(t,l,.1),t.A=15,l$(8,l,l,Q$[l.p]),ue(t,7),t.h&&(t.h-=l.g,t._||(t$(16,t,64,l),ue(t,2)),t.h<=0)){t.h=0,(_=>{ue(_,3);let t=1+j(3);for(let $=0;$<t;++$){let $=C$();I_($,_),z_($,_);let t=32+j(64);N_($,O(e),t,t),$.A=15,_.g&&($.p=512|_.g,_.g=0)}if(0==_._){let e=k$(1);I_(e,_),z_(e,_),e.$+=32,e.h=20,e.p=2,I$(e),t$(64,_,256,e),((_,e,t)=>{for(;_--;){let _={l:0,o:0,i:0,u:0,v:0,$:0,t:0,_:0,g:16777215,m:1,p:0,R:600,h:43,T:0,D:0,S:1,A:1,C:0,P:0,k:0};I_(_,e),t&&z_(_,t,N(.5)),N_(_,E($),E(64),N(128));let l=N()<.3?43:44;_.h=l,_.C=l,_.C=l,_.m=.5+N(.25),_.S=_.m,_.A=_.m,_.g=f(128+N(32)),_._=E(.1),_.t=E(.5),Z_.push(_)}})(32,_,e)}})(t);let _=l.R;if(_&&!t._){S$.i[_]=(0|S$.i[_])+(t.R?10:1);let $=_=>_==me?ge:ve.get(_)?.o,e=$(_),l=$(t.R);if(e){let _=l?[e+" CRUSHED "+l,e+" destroyed "+l,e+" killed "+l,e+" took "+l+" life"]:["warm-up for "+e,e+" killed someone","death by "+e,e+" sows DEATH"];v$>R$&&s(z(_))}}}if(l.h&&4!==l.p&&(--l.h,l.h)){let $=l.l-t.l,e=l.o-t.o,r=_.sqrt($*$+e*e);if(r>0){$/=r,e/=r,H_(l,$,e,1);let _=P_[t._]+6+1;l.l=t.l+_*$,l.o=t.o+_*e}}},X$=(_,$)=>{if(_.h)for(let e of $)!(e.R-_.R)||(4==_.p&&_.h>0?Q_(_,e,_.u,_.v)&&V$(e,_):W_(e,_)&&V$(e,_))},Y$=(_,t)=>e*(_&t-1)/t-$,Z$=(_,$)=>$*_&$-1,_e=(t,l,r)=>Z$(($+_.atan2(l,t))/e,r),$e=e=>{e.R||(_=>{let $=j(64);_.p=$<<6|1,_.h<10&&(_.p|=18),!j(20)&&_.h<7&&(_.p|=4)})(e);let l=0==e.i&&0==e.$;4&e.p&&l&&(e.i=1,e.$=80,l=0,ue(e,5));let r=(l?16:8)/60,o=Y$(e.p>>6,64),f=Y$(e.p>>12,128),i=_.cos(o),n=_.sin(o),a=_.cos(f),c=_.sin(f);if(1&e.p){let _=2&e.p?2:1,$=60*_;e.u=t(e.u,$*i,$*r),e.v=t(e.v,$*n,$*r),l&&!((v$+e.S)%(20/_))&&ue(e,4)}else J_(e,32*r);if(16&e.p&&e.g){let _=k$(3);I$(_),I_(_,e),q_(_,a,c,0,10),z_(_,e),G_(_,a,c,0,64),_.p=512|e.g,_.A=31,e.g=0}let u=R_[e.g];if(8&e.p&&e.g){if(e.P=t(e.P,0,u._/60),!e.P){e.R==me&&(x$=_.max(u.R,x$),P$=5),e.P=1,e.m=(s=e.m)<u.h?++s:s,G_(e,a,c,-1,e.$>0?0:-u.v),ue(e,1);for(let $=0;$<u.o;++$){let $=f+u.i*(O()-.5)+u.u*(e.m/u.h)*(O()-.5),t=_.cos($),l=_.sin($),r=u.g+u.p*(O()-.5),o=k$(2);o.R=e.R,I_(o,e),q_(o,t,l,0,u.$),o.i+=-2+u.m,G_(o,t,l,0,r),o.g=u.F,o.p=u.D,o.h=u.M,o.P=u.I,I$(o)}u.D&&((_,e,t)=>{let l={l:0,o:0,i:0,u:0,v:0,$:0,t:0,_:0,g:16777215,m:1,p:0,R:600,h:43,T:0,D:0,S:1,A:1,C:0,P:0,k:0};l.l=_.l,l.o=_.o,l.i=_.i+e,l.h=45,l.C=45,l.g=t,l._=E(.25),l.t=E($),N_(l,E($),16+N(32),32),Z_.push(l)})(e,10+u.m,u.U)}}else e.m=e.m/3|0,e.P=t(e.P,u.t,u.l/60);var s},ee=(_,$,e,t)=>{t$(e,_,$,t)},te=()=>_.min(v.n,v.ge)/256,le=[],re=()=>{C(Q,0,0),C(W[1],0,-30,0,1026,40,.5,0)},oe=()=>{C(W[1],0,1004,0,1026,40,1,3355443)},fe=()=>{let e=U$();if(e&&(i_||n_)){let t=4+_.sin(2*p$)*_.cos(4*p$)/4+e.m/8+4*_.min(1,e.P);for(let _=0;_<4;++_)C(W[3],o_,f_,p$/10+_*$/2,2,t,.5)}},ie=$=>f(255*_.min(1,2*$/15)),ne=(_,$,e=0,t=1)=>C(W[$],_.l,_.o-_.i-e,0,t,t,1,16777215,0,ie(_.A)),ae=[t=>{let l=ie(t.A),r=t.S+p$,o=t.R?20+t.S%14:34+t.S%3,f=l_[t.S%l_.length],i=f,n=f,a=t.l,c=t.o-t.i,u=2&t.p?1:.8,s=_.min(1,_.hypot(t.u,t.v,t.$)/100),v=-.5*s*.5*(1+_.sin(40*u*r));v+=(1+_.sin(10*r)**2)/4*(1-s);let d=5-4*s*.5*(1+_.sin(40*u*r)),m=5-4*s*.5*(1+_.sin(40*u*r+$)),g=R_[t.g],w=Y$(t.p>>12,128),y=g.k,p=g.C,h=a,b=c-10,R=_.atan2(c+1e3*_.sin(w)-b,a+1e3*_.cos(w)-h),A=p,S=0;R<-.2&&R>.2-$&&(S=1);let x=_.sin(R-$),P=6+12*(S?x*x:0),k=1;if((R<.5*-$||R>.5*$)&&(k=-1),g.T){let l=_.min(1,g.t>0?t.P/g.t:_.max(0,2*(t.P-.5)));P+=_.sin(l*$)*g.T,R-=-k*$*.25*_.sin((1-(1-l)**2)*e)}h+=P*_.cos(R),b+=P*_.sin(R),k<0&&(A*=k,R-=$+2*y),R+=y,S&&t.g&&C(W[10+t.g],h,b,R,A,1),C(W[2],a-3,c-5,0,2,d,1,i,0,l),C(W[2],a+3,c-5,0,2,m,1,i,0,l),C(W[0],a,c-7+v,0,8,6,1,n,0,l);{let _=.002*t.$;C(W[o],a,c-16+2*v,.002*t.u,1-_,1+_,1,16777215,0,l)}let T=a+4,D=a-4,F=c-10+2*v,I=_.atan2(b-F,h-T),M=_.atan2(b-F,h-D),U=_.hypot(h-D,b-F)-1;if(t.g)C(W[4],a+4,c-10+v,I,_.hypot(h-T,b-F)-1,2,1,i,0,l),C(W[4],a-4,c-10+v,M,U,2,1,i,0,l);else{let e=s*_.sin(20*u*r),o=s*_.cos(20*u*r),f=5;!t.R&&t.h<10&&(e-=$/2,o+=$/2,f+=4),C(W[4],a+4,c-10+v,e+$/4,f,2,1,i,0,l),C(W[4],a-4,c-10+v,o+$-$/4,f,2,1,i,0,l)}!S&&t.g&&C(W[10+t.g],h,b,R,A,1)},_=>ne(_,_.p+37),$=>{let e=[7,8,0,7,8,0,7,8,0,5,5,5,4,4,4],t=$.l,l=$.o-$.i,r=_.atan2($.v,$.u),o=$.p,f=z(Q$[o]),i=[.2,2,1,8,512][o],n=[.1,2,2,2,512][o],a=[6,1.5,2,4,12][o]+[0,0,1,0,0][o]*_.sin(32*p$+$.S)/2,c=3*o;C(W[e[c++]],t,l,r,a*i,a,.1,16777215,1),C(W[e[c++]],t,l,r,a*i/2,a/2,1,f),C(W[e[c++]],t,l,r,2*n,2)},($,e=255&$.p)=>{if(512&$.p)ne($,10+e,2,.8);else{let t=4*p$+$.S/25;ne($,40+e,6+_.cos(t),.9+.1*_.sin(4*t))}},_=>ne(_,_.p+41)],ce=()=>{$$(),(()=>{for(let _ of Z_)e$(_)})(),((..._)=>{le.length=0;let $=v.n,e=v.ge,t=r_[2]/2,l=-t*$+r_[0]-20,r=-t*e+r_[1]-20-128,o=t*$+r_[0]+20,f=t*e+r_[1]+20+128;for(let $ of _)for(let _ of $)(_.l>l&&_.l<o&&_.o>r&&_.o<f||2==_._&&4==_.p)&&le.push(_)})(A$,...S$.o),le.sort((_,$)=>1024*(_.o-$.o)+_.l-$.l),(()=>{let _=[1,1,2,1,1],$=[0,0,1,0,0],e=[0,0,3355443,0,0];for(let t of le){let l=t._,r=(2-t.i/64)*_[l];C(W[6],t.l,t.o,0,r,r/4,.4,e[l],$[l])}})();for(let _ of le)ae[_._](_)},ue=($,e)=>{if(v$>R$){let f=($.l-r_[0])/256,i=1-_.hypot(f,($.o-r_[1])/256);i>0&&(t=b_[e],l=i,r=_.max(-1,_.min(1,f)),(o=u.er()).gain.value=.5*l,o.connect(u.r_),(l=u.gc()).pan.value=r,l.connect(o),(r=u.i()).buffer=t,r.connect(l),r.start())}var t,l,r,o};a(RTCPeerConnection.prototype),a(RTCDataChannel.prototype);var se=0,ve=new Map,de=null,me=0,ge=localStorage.getItem("l3name"),we=[],ye=0,pe=1,he=[],be=(_,$,e,t=0)=>we.push([me,_,$,t,e]),Re=()=>{de&&(de.lt(),de=null),ve.forEach(Te),me=0,se=0},Ae=[,_=>{return($=Ie(_[0]))._.wu(_[4]).then(()=>$._.mt()).then(_=>$._.eo(_)).then(()=>$._.Sf.toJSON()).catch(()=>{});var $},_=>{_[4].candidate&&Ie(_[0])._.Se(new RTCIceCandidate(_[4])).catch(()=>{})},_=>{Ie(_[0]).o=_[4]}],Se=_=>Ae[_[2]](_)?.then($=>we.push([me,_[0],_[2],_[3],$])),xe=()=>{se>1&&!ye&&we.length&&(ye=1,Pe(we).then(_=>{we=we.slice(_),ye=0}).catch(Re))},Pe=_=>fetch("_",{method:"POST",body:JSON.stringify([me,_])}).then(_=>_.json()),ke=[Re,()=>{be(0,0,0),xe()},(_,$)=>{$=_.split(",").map(Number),me=$.shift(),se=2,Promise.all($.map(_=>(be(_,3,ge),De(Ie(_))))).then(()=>se=3).catch(Re)},(_,$,e,t)=>{$=JSON.parse(_),t=he[e=$[3]],he[e]=0,(t||Se)($)},(_,$)=>{($=+_)>0?be($,3,ge):Te(ve.get(-$))}],Ce=(_,$)=>_._.b_({iceRestart:$}).then($=>_._.eo($)).then(()=>{return $=_.t,e=_._.Sf.toJSON(),he[pe]=$=>_._.wu(new RTCSessionDescription($[4])),void be($,1,e,pe++);var $,e}),Te=_=>{ve.delete(_?.t)&&(_.l?.lt(),_._?.lt())},De=_=>(_._.e$=()=>{"fd".indexOf(_._?.vr[0])>=0&&Ce(_,1).catch()},Ce(_).then(()=>(_.l=_._.ee(0,{ordered:0,maxRetransmits:0}),Fe(_),new Promise(($,e)=>{let t=20,l=setInterval(()=>{Me(_)?(clearInterval(l),$()):--t||e()},200)})))),Fe=_=>{_.l&&(_.l.r_="arraybuffer",_.l.ue=$=>((_,$)=>{((_,$)=>{((_,$)=>{if(s$<0&&$.o&&$.o.g>((_=2147483647)=>{for(let[,$]of n$)_>$.g&&(_=$.g);return _})()&&(u$=0,M$(performance.now()/1e3),d$=p$,v$=s$=(S$=$.o).g+1,F$(),L$()),_.l=$._,$.g>_.g){_.o=1;for(let e of $.l)e.g>_.g&&c$.push(e);_.g=$.g}_._<$.t&&(_._=$.t)})(T$(_),((_,$,e=[],t,l)=>{let r=$[3],o=$[4],f=5;for(let t=0;t<r;++t){let l=$[f++];-1!=l&&e.push({g:o+t,R:_,p:l})}if(2&$[0]){(t={_:0,g:0,t:0,l:0,o:[[],[],[],[]],i:{}})._=$[f++],t.g=$[f++],t.t=$[f++]>>>0,t.l=$[f++]>>>0;let _=$[f++];for(let e=0;e<_;++e){let _=$[f++],e=$[f++],l=$[f++],r=$[f++],o={t:$[f++],_:255&_,h:_>>8&255,g:_>>16&255,R:e,p:l,S:255&r,A:r>>8&255,l:$[f++]/65536,o:$[f++]/65536,i:$[f++]/65536,u:$[f++]/65536,v:$[f++]/65536,$:$[f++]/65536,P:$[f++]/65536,m:$[f++]/65536};t.o[o._].push(o)}let e=$[f++];for(let _=0;_<e;++_)t.i[$[f++]]=$[f++]}return{_:1&$[0],t:$[1],g:$[2],l:e,o:t,debug:l}})(_,new Int32Array($))),document.hidden&&(M$(performance.now()/1e3),N$(p$)&&(J$(),G$()))})(_,$.data)})(_.t,$))},Ie=_=>(ve.has(_)||ve.set(_,((_,$)=>{let e={t:_,_:$=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}]})};return $.lf=$=>{$.candidate&&be(_,2,$.candidate.toJSON())},$.s_=()=>{Ce(e,0)},$.x=_=>{e.l=_.channel,Fe(e)},e})(_)),ve.get(_)),Me=_=>"o"==_?.l?._[0]&&"o"==_?._?.vr[1],Ue=0,je=0,Oe=0,Ee=[0,2,3,5,7,8,10,12,14,15,17,19,20,22],Ne=u.nt();Ne.connect(u.r_);var He,Je=(_,$,e,t=1,l=u.r_)=>{let r=u.i();r.buffer=b_[_],r.detune.value=100*$,r.connect(l),r.start(e,0,t)},ze=0,Ge=0,qe=0,Le=()=>{qe=2,D$(),(()=>{S$.t=S$.l=M[0],F$();for(let $=0;$<13;++$){let t=$/13,l=k$(0);l.R=1+$,l.g=1+$%(R_.length-1),l.S=$+14*j(10),l.p=Z$(t,128)<<12;let r=80+j(20);l.l=512+r*_.cos(t*e),l.o=512+r*_.sin(t*e)+10,I$(l)}r_[0]=r_[1]=512,s$=0})(),s("13 the game")};ge||(He=prompt("your name")||"guest",localStorage.setItem("l3name",ge=He)),new FontFace("e",[[],"url(e.ttf),"][0|confirm("load emoji")]+"local(Arial)").load().then(_=>{document.fonts.add(_),(()=>{let _=h(512),$=B(512),e=B(512),t=1,l=1,o=1,f=0,i=0,n=0,c=(_,$)=>{t=o,o=t+_+1,o+1>=512&&(l+=1+f,f=$,t=1,o=t+_+1),$>f&&(f=$),i=_,n=$},u=($,e)=>W.push(((_,$,e,t,l,r=.5,o=.5)=>({_:_._,$:t,t:l,l:r,o,i:$/_.$,u:e/_.t,v:t/_.$,m:l/_.t}))(_,t,l,i,n,$,e)),s=(_=128,$,r)=>{r=($=e.uf(t,l,i,n)).data;for(let $=3;$<r.length;$+=4)r[$]=r[$]<_?0:255;e.fe($,t,l)},v=_=>{let $=2*_;c($,$),e.ma(t+_,l+_),K(e,_),e.fill(),e.Ro(),s(),u()};c(1,1),e.p_(t,l,1,1),u(),u(0,0),u(.5,0),u(.5,-1),u(0),u(1),v(4),u(.6),u(.7),v(16),u(),[["\ud83d\udd2a",180,234,19,7,-4,-50,,,,.3],["\ud83e\ude93",198,210,20,10,,45,-1,,,.3],["\ud83d\udd2b",208,198,15,12,-4,,-1,,,.3],["\ud83d\udd8a\ufe0f",157,211,24,8,,-45,-1,,,,],["\u270f\ufe0f\ufe0f",186,216,23,8,,44.5,-1,,,,],["\ud83e\udea5",175,261,20,8,,45,,-1,,,],["\u26cf",196,216,21,17,,135,,,,,],["\ud83d\udd0c",188,202,22,11,,45,-1,,,,],["\ud83e\uddf5",217,192,19,19,,90,,,,.3,.4],["\ud83d\udc80",198,166,17,19,,,,,,,],["\ud83d\udc79",192,166,19,18,,,,,,,],["\ud83e\udd21",192,166,19,19,,,,,,,],["\ud83e\udd16",192,166,19,18,,,,,,,],["\ud83c\udf83",192,166,19,19,,,,,,,],["\ud83e\udd9d",192,172,19,17,,,,,,,],["\ud83d\udc19",192,166,19,18,,,,,,,],["\ud83d\udc30",186,144,20,23,4,,,,,,.65],["\ud83e\udd8c",176,144,23,23,4,,,,,,.67],["\ud83d\udc3a",181,153,21,20,4,,,,,,],["\ud83d\udc35",181,144,21,23,4,,,,,,],["\ud83e\udd8a",177,153,22,20,4,,,,,,],["\ud83d\udc2d",176,148,23,22,4,,,,,,],["\ud83e\udd8d",179,145,22,22,4,,,,,,],["\ud83c\udf45",195,166,18,19,,,,,,,],["\ud83d\ude10",192,166,19,19,,,,,,,],["\ud83d\udc37",192,170,19,17,,,,,,,],["\ud83d\udee2",203,144,16,23,4,,,,,,.95],["\ud83d\udce6",193,144,18,22,4,,,,,,.85],["\ud83e\udea6",176,144,23,23,4,,,,,,.95],["\u2764\ufe0f",208,194,15,13,-4,,,,,,],["\ud83c\udf33",156,99,28,31,12,,,,136,,.95],["\ud83c\udf32",162,99,26,31,12,,,,136,,.95],["\ud83e\udd53",163,219,22,9,,-45,,,,,],["\ud83e\uddb4",163,213,21,9,,-45,,,,,]].map(_=>((_,o,f,i,n,a=0,v=0,d=1,m=1,g,w,y)=>{let p=8,h=(16+a)*p;$.he(0,0,512,512),$.font=q(h),$.ma(256,256),$.Ti(r(v)),$.__(d,m),$.h$(_,0,0),$.Ro(),c(i,n),e.ma(t+1,l+1),p=1/p,e.__(p,p),e.ma(-o,-f),e.fo($.s$,0,0),e.Ro(),s(g),L[W.length]=_,u(w,y)})(..._)),c(4,2),e.p_(t,l,4,2),e.d="#999",e.p_(t,l,1,2),u(),e.d="#fff";let d=(_,$,r,o)=>{let f=2*$+32;c(f,f),e.font=q(10),e.ht=2,f/=2,e.ma(t+f,l+f),K(e,_),e.C_(),K(e,$),e.C_(),e.h$(r,0,-_-5),e.h$(o,0,-$-5),e.Ro(),s(),u()};d(16,48,"RUN","JUMP"),d(16,40,"AIM","FIRE"),d(16,16,"DROP",""),c(72,64),e.font=q(72),e.h$("13",t+36,l+24),s(),u(),c(200,24),e.font=q(24),e.h$("TAP TO START",t+100,l+12),s(),u(),R(_,e.s$);{let _=B(64);_.ma(32,32);let $=a(_.A_(0,0,16,0,0,32));$.Ci(0,"rgba(255,255,255,1)"),$.Ci(1,"rgba(255,255,255,0)"),_.d=$,K(_,32),_.fill(),_.__(1,.25),K(_,32),_.fill(),_.Ro(),W[51]=h(64),W[51].l=.5,W[51].o=.5,R(W[51],_.s$,9729)}})(),qe=1});var We=$=>{switch($/=1e3,l.innerText=(_=>(++Ue,_-je>=.5&&(Oe=Ue/.5,Ue=0,je+=.5),Oe))($)+"\n",(_=>{let $=u.fe,e=60/(110+15*Math.sin($/10))/4;if($>=Ge){Ge=$+16*e;let t=0,l=0,r=J(2)&&!_,o=J(2)&&!_,f=0==J(4)||_,i=_?0:J(2),n=J(_?2e3:1e4);Ne.Q.linearRampToValueAtTime(i,$+(t+8)*e),Ne.frequency.linearRampToValueAtTime(n,$+(t+8)*e);for(let i=0;i<16;++i){ze%4==3&&(l=0!=J(4)||_?4+J(5):14+J(5));let n=Ee[l%Ee.length];t%4==2&&(n=Ee[(l+1)%Ee.length]),t%4==3&&(n=Ee[(l+2)%Ee.length]),i>12&&(n=Ee[(l+1+J(5))%Ee.length]),(t%16<8||!f)&&Je(8,n,$+e*t,e,Ne),t%4==0&&(t%8==4&&r?Je(10,-4,$+t*e,2*e):Je(9,0,$+t*e,2*e)),t%16==11&&J(2)&&r&&Je(9,0,$+t*e,2*e),(t%8>5||t%2==0)&&o&&Je(11,0,$+t*e,e),++t}++ze}})(4!=qe),qe>1&&($=>{if(M$($),me&&s$<0&&!ve.size&&(()=>{s$=0,v$=0,u$=0,S$.l=S$.t=M[0],F$();for(let _=0;_<32;++_){let _=k$(1);_.h=3+j(4),_.p=j(2),_.g=j(R_.length),F_(_),I$(_)}})(),s$>=0){if(N$(p$),_$.length&&(v.$e(36160,Q.g),S(),A(0,0,0,1,0,1,1024,-1024),v.yv(0,0,1024,1024),$$(),_$.length=0,k()),!document.hidden){let $=(()=>{let $=_.min(8,60*(p$-d$)|0);if(!$)return 0;for(S_=M[1],x_=Z_.map(_=>({..._})),f$=S$,S$={_:S$._,g:S$.g,t:S$.t,l:S$.l,o:S$.o.map(_=>_.map(_=>({..._}))),i:{...S$.i}};$--;)W$();return 1})();(()=>{if($=o$,S(),A(0,0,0,1,0,1,$.$,-$.t),v.$e(36160,$.g),v.yv(0,0,$.$,$.t),x(1,1,1,1),v.gf(0,771),i$(S$.o[0]),i$(S$.o[2]),i$(S$.o[3]),k(),P(r_[0]+H(x$/5)|0,r_[1]+H(x$/5)|0,.5,.5,H(x$/400),1/r_[2]),x(.2,.2,.2,1),re(),ce(),oe(),e=p$,t=ie(U$()?.A),C(o$,-256,-256,0,4,4,.7,64+32*_.sin(e)<<16|4403,0,10027008&t),!me)for(let $=10;$>0;--$){let e=.5*_.sin($/4+16*p$),t=(32*(11-$)+32*e&255)<<16,l=1+$/100,r=e*$/100,o=$/4,f=r_[1]+o;C(W[50],r_[0]+H(o),110+f+H(o),r,l,l,1,t),C(W[49],r_[0]+H(o),f+H(o),r,l,l,1,t)}var $,e,t;fe(),k()})(),(()=>{let $=U$();$&&($=>{let e=v.n,t=v.ge,l=$.l,r=$.o-$.i-10;V.l>=0&&V.l<e&&V.o>=0&&V.o<t?(i_=(o_=(V.l-e/2)*r_[2]+r_[0])-l,n_=(f_=(V.o-t/2)*r_[2]+r_[1])-r):(i_=0,n_=0),a_=+((i_||n_)&&V.$),u_=(Z.has(68)||Z.has(39))-(Z.has(65)||Z.has(37)),s_=(Z.has(83)||Z.has(40))-(Z.has(87)||Z.has(38)),(u_||s_)&&(v_=+!Z.has(16)),c_=+Z.has(32),d_=+Z.has(69);{(()=>{let _=v.n,$=v.ge;for(let e of m_){if(!e.i)for(let[,t]of Y)t.u&&y_(e,t._/_,t.i/$)&&w_(t)&&(e.i=t);if(e.i){let t=e.i,l=!t.$;1&e.o&&(l||=!y_(e,t.l/_,t.o/$)),l?e.i=void 0:g_=1}}})();let $=r_[2];if(g_){{let e=m_[0],t=e.i,l=_.hypot(u_=t?(t.l-t._)*$:0,s_=t?(t.o-t.i)*$:0);v_=+(l>e.u),c_=+(l>e.v)}{let e=m_[1],t=e.i;o_=l+2*(i_=t?(t.l-t._)*$:0),f_=r+2*(n_=t?(t.o-t.i)*$:0),a_=+(_.hypot(i_,n_)>e.v)}d_=m_[2].i?1:0}}if(V.u&&g_){g_=0;for(let[,_]of Y)g_||=_.$}})($);let e=E$(v$),t=0;$&&((u_||s_)&&(t|=_e(u_,s_,64)<<6|1,v_&&(t|=2)),(i_||n_)&&(t|=_e(i_,n_,128)<<12,a_&&(t|=8)),c_&&(t|=4),d_&&(t|=16)),me&&!y$&&!$&&g$&&(t_()||w$)&&(t|=32,y$=1,w$=0),b$!==t&&(e<=h$&&(e=h$+1),h$=e,32&O$(e).p&&(t|=32),O$(e).p=t,b$=t)})(),(()=>{if(!g$&&s$>=0){for(let[_,$]of ve){if(!Me($))return;{let $=n$.get(_);if(!$||!$.l)return}}g$=1,y$=0,w$=1}})(),P(0,0,0,0,0,te()),(()=>{if(!g_)return;let _=v.n,$=v.ge,e=1/te(),t=0;for(let l of m_){let r=e*(_*l.t+_*(l._-l.t)/2),o=e*($*l.m+$*(l.l-l.m)/2),f=l.i;!(1&l.o)&&f&&(r=f._*e,o=f.i*e,C(W[9],f.l*e,f.o*e,0,1,1,.5)),C(W[46+t],r,o,0,1,1,.5,f?16777215:0),++t}})(),k(),$&&(M[0]=(S$=f$).t,v$=S$.g+1,M[1]=S_,Z_=x_,_$.length=0)}J$(),G$()}(()=>{if(me){if(g$){let _=U$();if(_){let $="";for(let e=0;e<10;){let t=_.h>e++;$+=_.h>e++?"\u2764\ufe0f":t?"\ud83d\udc94":"\ud83d\udda4"}r$($),_.g&&r$(L[10+_.g])}else r$("tap to respawn")}else r$("joining");let _=_=>{let $=j$(_);return $?L[20+$.S%14]:"\ud83d\udc41\ufe0f"};r$(_(me)+" "+ge+" | \u2620\ufe0f"+(0|S$.i[me]));for(let[$,e]of ve)r$((Me(e)?_($):"\ud83d\udd34")+" "+e.o+" | \u2620\ufe0f"+(0|S$.i[$]))}})()})($),qe){case 2:t_()&&(qe=3,D$(),se||(se=1,ye=0,we=[],he=[],(de=a(new EventSource("_"))).co=Re,de.ue=_=>ke[_.data[0]]?.(_.data.substring(1))));break;case 1:l.innerText="tap to start",t_()&&Le();break;case 3:r$(".".repeat(7*$&7)),3==se?(qe=4,s("fight")):se||Le();break;case 4:se||Le()}__.clear(),$_.clear(),e_(V),Y.forEach(e_),xe(),requestAnimationFrame(We)};We(0);